# eh分布式归档tg bot
目前形式为节点使用api被动接收，要求有公网ipv4或v6或frp或内网穿透等方式得到一个服务器可访问的链接(ip+端口或域名)

## bot目前实现的功能
1. - 接收到ex/eh链接后返回解析后的图片以及说明
   - ![](https://fj.mhdy.shop/2025-04-17-20-31-26_20250417203126858.png)
2. - 获取一周内获取归档链接次数最多的5本
   - ![](https://fj.mhdy.shop/2025-04-17-20-36-09_20250417203609010.png)
3. - 查看最近5个被归档的本子
   - ![](https://fj.mhdy.shop/2025-04-17-20-37-30_20250417203730073.png)
4. - 签到获取GP(bot货币与EH无关)
   - ![](https://fj.mhdy.shop/2025-04-17-20-39-13_20250417203913183.png)
5. - 白名单用户可以看到当前全部节点状态(普通用户只能看到数量)
   - ![](https://fj.mhdy.shop/2025-04-17-20-40-40_20250417204040100.png)
6. - 查看本人使用次数及GP
   - ![](https://fj.mhdy.shop/2025-04-17-20-41-56_20250417204156293.png)
7. - 可以已礼物的方式赠送GP，接收方会得到bot的提醒
   - ![](https://fj.mhdy.shop/2025-04-17-20-47-54_20250417204754104.png)
8. - 管理员主动给用户添加GP 
   - ![](https://fj.mhdy.shop/2025-04-17-20-47-08_20250417204708454.png)
9. 1. 内联消息
   2. - 通过内联消息的按钮查看信息和签到
      -   ![](https://fj.mhdy.shop/2025-04-17-20-58-34_20250417205834258.png)
   3. - 通过内联消息直接获取画廊解析和json源信息文件
      -   ![](https://fj.mhdy.shop/2025-04-17-20-59-48_20250417205948804.png)
10. - 添加节点以及管理员黑白名单的操作
    - ![](https://fj.mhdy.shop/2025-04-17-21-01-26_20250417210126569.png)

## server(bot)端
目前仅支持MySQL作为存储，代码较为简单并不难有需要的可以自己替换为SQLite。  
配置文件中的eh_cookie虽然只写了id, hash, ig但是最好也补上其他的如sk和star(避免超频率)  
